<!DOCTYPE html>
<html>
 
<head>
  <title>Animation Canvas Example</title>
  <style>
    canvas {
      border: #333 10px solid;
    }
  </style>
</head>
 
<body>
  <div id="container">
      <canvas id="myCanvas" width="500px" height="500px"></canvas>
  </div>
 
  <script>
        let ctx = document.getElementById("myCanvas").getContext("2d");
        let circles = []
       
        function Circle(radius, speed, width, xPos, yPos) {
            this.radius = radius;
            this.speed = speed;
            this.width = width;
            this.xPos = xPos;
            this.yPos = yPos;
            this.opacity = 0.05 + Math.random() * 0.5;

            this.counter = 0;

            let signHelper = Math.floor(Math.random() * 2);

            if (signHelper == 1){
                this.sign = -1;
            } else {
                this.sign = 1
            }
        }

        Circle.prototype.update = function () {
            this.counter += this.sign * this.speed;

            ctx.beginPath();

            ctx.arc(
                    this.xPos + Math.cos(this.counter / 100) * this.radius, 
                    this.yPos + Math.sin(this.counter / 100) * this.radius, 
                    this.width,
                    0, 
                    Math.PI * 2, 
                    false
                    );

            ctx.closePath();

            ctx.fillStyle = 'rgba(185, 211, 238,' + this.opacity + ')';
            ctx.fill();
        }

        function setupCircles() {
            for(let i = 0; i < 100; i++){
                let randomX = Math.round(-200 + Math.random() * 700);
                let randomY = Math.round(-200 + Math.random() * 700);
                let speed = .2 + Math.random() * 3;
                let size = 5 + Math.random() * 100;
                let radius = 50 + Math.random() * 100;

                let circle = new Circle(radius, speed, size, randomX, randomY);
                circles.push(circle);
            }
            drawAndUpdate();
        }
        setupCircles();

        function drawAndUpdate() {
            ctx.clearRect(0,0,500,500);

            for(let i = 0; i < circles.length; i++) {
                let myCircle = circles[i];
                myCircle.update();
            }

            requestAnimationFrame(drawAndUpdate)
        }
        
  
  </script>
 
</body>
 
</html>